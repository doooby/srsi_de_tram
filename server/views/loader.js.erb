(function () {
    var root = document.getElementById('srsi_app_container');
    if (!root) {
        console.error('Expected to find a node with id=srsi_app_container.');
        throw 'container not present';
    }

    var styles = document.createElement('LINK');
    styles.setAttribute('rel', 'stylesheet');
    styles.setAttribute('type', 'text/css');
    styles.setAttribute('href', '<%= asset 'app.css' %>');
    root.appendChild(styles);

    var mount = document.createElement('DIV');
    mount.id = 'app-mount-point';
    mount.className = 'srsi';
    mount.innerHTML = `
<div class="app-flash">
  <h2>Initializing ...</h2>
</div>
    `;
    root.appendChild(mount);

    var app = document.createElement('SCRIPT');
    app.setAttribute('src', '<%= asset 'app.js' %>');
    root.appendChild(app);
}());
